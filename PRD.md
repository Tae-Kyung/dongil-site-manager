# PRD: ë™ì¼ìœ ë¦¬ ìŠ¤ë§ˆíŠ¸ í˜„ì¥ ê´€ë¦¬ ì‹œìŠ¤í…œ (Dongil Site Manager)

## 1. ê°œìš”

### 1.1 ë°°ê²½
ë™ì¼ìœ ë¦¬ëŠ” í˜„ì¬ ê±´ì„¤ í˜„ì¥ ê´€ë¦¬ë¥¼ ìœ„í•´ **ë„¤ì´ë²„ ë°´ë“œ**(í˜„ì¥ ì‚¬ì§„/ì†Œí†µ), **ì—‘ì…€**(ê²¬ì /ì •ì‚°), **ERP**(ë°œì£¼/ì¬ë¬´) ë“± ì—¬ëŸ¬ ë„êµ¬ë¥¼ ë³‘í–‰ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´:
- ë°ì´í„°ê°€ íŒŒí¸í™”ë˜ì–´ ì „ì²´ í˜„í™© íŒŒì•…ì´ ì–´ë ¤ì›€
- ì—¬ëŸ¬ ì§ì›ì´ ì°¸ì—¬í•  ë•Œ ì •ë³´ ê³µìœ ê°€ ë¹„íš¨ìœ¨ì 
- í”„ë¡œì íŠ¸ë³„ ì§„í–‰ ìƒí™© ì¶”ì ì´ ë³µì¡í•¨

### 1.2 ëª©í‘œ
**íŒŒí¸í™”ëœ í˜„ì¥ ê´€ë¦¬ ë°ì´í„°ë¥¼ ë‹¨ì¼ í”Œë«í¼ìœ¼ë¡œ í†µí•©**í•˜ê³ , **AI ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸**ë¥¼ ì œê³µí•˜ì—¬ ì˜ì‚¬ê²°ì •ì„ ì§€ì›í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

### 1.3 í•µì‹¬ ê°€ì¹˜
| ê°€ì¹˜ | ì„¤ëª… |
|------|------|
| **í†µí•©** | í˜„ì¥ ë¡œê·¸, ë¬¸ì„œ, ì¼ì •ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬ |
| **ê°€ì‹œì„±** | í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™©ì„ í•œëˆˆì— íŒŒì•… |
| **í˜‘ì—…** | íŒ€ì› ê°„ ì‹¤ì‹œê°„ ì •ë³´ ê³µìœ  |
| **ì˜ˆì¸¡** | AI ê¸°ë°˜ ë¦¬ìŠ¤í¬ ì‚¬ì „ ê°ì§€ |

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 ì„ íƒëœ ìŠ¤íƒ
| ì˜ì—­ | ê¸°ìˆ  | ì„ íƒ ì´ìœ  |
|------|------|-----------|
| **Framework** | Next.js 14 (App Router) | Vercel ìµœì í™”, SSR/SSG ì§€ì›, React ìƒíƒœê³„ |
| **Language** | TypeScript | íƒ€ì… ì•ˆì •ì„±, ê°œë°œ ìƒì‚°ì„± |
| **Styling** | Tailwind CSS + shadcn/ui | ë¹ ë¥¸ ê°œë°œ, ì¼ê´€ëœ ë””ìì¸ ì‹œìŠ¤í…œ |
| **Database** | Supabase (PostgreSQL) | ì‹¤ì‹œê°„ êµ¬ë…, ì¸ì¦, ìŠ¤í† ë¦¬ì§€ í†µí•© |
| **Deployment** | Vercel | ìë™ ë°°í¬, í”„ë¦¬ë·° í™˜ê²½, ì—£ì§€ ìµœì í™” |
| **State** | Zustand | ê²½ëŸ‰, ê°„ë‹¨í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ |
| **Charts** | Recharts | React ì¹œí™”ì , ë°˜ì‘í˜• ì°¨íŠ¸ |

### 2.2 ì™¸ë¶€ ì„œë¹„ìŠ¤
| ì„œë¹„ìŠ¤ | ìš©ë„ |
|--------|------|
| Supabase Storage | í˜„ì¥ ì‚¬ì§„/ë¬¸ì„œ íŒŒì¼ ì €ì¥ |
| Supabase Auth | ì‚¬ìš©ì ì¸ì¦ (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸) |
| Claude API (ì„ íƒ) | AI ì¸ì‚¬ì´íŠ¸ ìƒì„± |

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 3.1 ERD ê°œìš”
```
users â”€â”€â”¬â”€â”€ project_members â”€â”€â”¬â”€â”€ projects
        â”‚                     â”‚
teams â”€â”€â”˜                     â”œâ”€â”€ site_logs
                              â”œâ”€â”€ documents
                              â”œâ”€â”€ ai_insights
                              â””â”€â”€ schedules
```

### 3.2 í…Œì´ë¸” ì •ì˜

#### `users` (ì‚¬ìš©ì)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK, Supabase Auth ì—°ë™ |
| email | text | ì´ë©”ì¼ (unique) |
| name | text | ì´ë¦„ |
| role | enum | admin / manager / staff |
| department | text | ë¶€ì„œ (ì˜ì—…, ì‹œê³µ, ê´€ë¦¬ ë“±) |
| avatar_url | text | í”„ë¡œí•„ ì´ë¯¸ì§€ |
| created_at | timestamptz | ìƒì„±ì¼ |

#### `teams` (ì‹œê³µíŒ€)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| name | text | íŒ€ëª… (ì˜ˆ: AíŒ€, ì™¸ì£¼-OOìœ ë¦¬) |
| leader_id | uuid | FK â†’ users |
| contact | text | ì—°ë½ì²˜ |
| specialty | text | ì „ë¬¸ ë¶„ì•¼ |
| is_external | boolean | ì™¸ì£¼ ì—¬ë¶€ |

#### `projects` (í”„ë¡œì íŠ¸/í˜„ì¥)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| code | text | í”„ë¡œì íŠ¸ ì½”ë“œ (ì˜ˆ: 2024-001) |
| name | text | í˜„ì¥ëª… |
| client_name | text | ë°œì£¼ì²˜/ê³ ê°ëª… |
| location | text | ì£¼ì†Œ |
| status | enum | active / on_hold / completed / cancelled |
| process_step | enum | visit / estimate / assign / order / install / settle |
| priority | enum | low / medium / high / urgent |
| start_date | date | ì°©ê³µ ì˜ˆì •ì¼ |
| end_date | date | ì¤€ê³µ ì˜ˆì •ì¼ |
| team_id | uuid | FK â†’ teams (ë‹´ë‹¹ ì‹œê³µíŒ€) |
| manager_id | uuid | FK â†’ users (ë‹´ë‹¹ì) |
| description | text | í”„ë¡œì íŠ¸ ì„¤ëª… |
| created_at | timestamptz | ìƒì„±ì¼ |
| updated_at | timestamptz | ìˆ˜ì •ì¼ |

#### `project_members` (í”„ë¡œì íŠ¸ ì°¸ì—¬ì)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| project_id | uuid | FK â†’ projects |
| user_id | uuid | FK â†’ users |
| role | text | ì—­í•  (ì˜ì—…ë‹´ë‹¹, ì‹œê³µê´€ë¦¬ ë“±) |
| joined_at | timestamptz | ì°¸ì—¬ì¼ |

#### `site_logs` (í˜„ì¥ ë¡œê·¸ - ë°´ë“œ ëŒ€ì²´)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| project_id | uuid | FK â†’ projects |
| author_id | uuid | FK â†’ users |
| content | text | ì‘ì—… ë‚´ìš© |
| log_type | enum | daily / issue / progress / photo |
| images | jsonb | ì´ë¯¸ì§€ URL ë°°ì—´ |
| weather | text | ë‚ ì”¨ ì •ë³´ |
| work_date | date | ì‘ì—…ì¼ |
| created_at | timestamptz | ìƒì„±ì¼ |

#### `documents` (ë¬¸ì„œ - ì—‘ì…€/ERP ëŒ€ì²´)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| project_id | uuid | FK â†’ projects |
| doc_type | enum | estimate / contract / order / invoice / settlement |
| doc_number | text | ë¬¸ì„œ ë²ˆí˜¸ |
| title | text | ë¬¸ì„œëª… |
| amount | bigint | ê¸ˆì•¡ (ì›) |
| status | enum | draft / pending / approved / rejected |
| file_url | text | íŒŒì¼ URL |
| issued_date | date | ë°œí–‰ì¼ |
| approved_by | uuid | FK â†’ users |
| approved_at | timestamptz | ìŠ¹ì¸ì¼ |
| notes | text | ë¹„ê³  |
| created_at | timestamptz | ìƒì„±ì¼ |

#### `ai_insights` (AI ë¶„ì„)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| project_id | uuid | FK â†’ projects |
| insight_type | enum | risk / recommendation / summary |
| message | text | ë¶„ì„ ë‚´ìš© |
| risk_level | enum | info / warning / critical |
| source_data | jsonb | ë¶„ì„ì— ì‚¬ìš©ëœ ë°ì´í„° ì°¸ì¡° |
| is_resolved | boolean | í•´ê²° ì—¬ë¶€ |
| resolved_at | timestamptz | í•´ê²°ì¼ |
| created_at | timestamptz | ìƒì„±ì¼ |

#### `schedules` (ì¼ì •)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| project_id | uuid | FK â†’ projects |
| title | text | ì¼ì •ëª… |
| description | text | ì„¤ëª… |
| event_type | enum | milestone / meeting / inspection / delivery |
| start_datetime | timestamptz | ì‹œì‘ì¼ì‹œ |
| end_datetime | timestamptz | ì¢…ë£Œì¼ì‹œ |
| is_all_day | boolean | ì¢…ì¼ ì—¬ë¶€ |
| assigned_to | uuid | FK â†’ users |
| created_at | timestamptz | ìƒì„±ì¼ |

### 3.3 Enum ì •ì˜
```sql
-- í”„ë¡œì„¸ìŠ¤ ë‹¨ê³„ (6ë‹¨ê³„)
CREATE TYPE process_step AS ENUM (
  'visit',      -- í˜„ì¥ë°©ë¬¸
  'estimate',   -- ê²¬ì 
  'assign',     -- ì‹œê³µíŒ€ ë°°ì •
  'order',      -- ë°œì£¼
  'install',    -- ì‹œê³µ
  'settle'      -- ì •ì‚°
);

-- í”„ë¡œì íŠ¸ ìƒíƒœ
CREATE TYPE project_status AS ENUM (
  'active',     -- ì§„í–‰ì¤‘
  'on_hold',    -- ë³´ë¥˜
  'completed',  -- ì™„ë£Œ
  'cancelled'   -- ì·¨ì†Œ
);

-- ë¬¸ì„œ ìœ í˜•
CREATE TYPE doc_type AS ENUM (
  'estimate',    -- ê²¬ì ì„œ
  'contract',    -- ê³„ì•½ì„œ
  'order',       -- ë°œì£¼ì„œ
  'invoice',     -- ì„¸ê¸ˆê³„ì‚°ì„œ
  'settlement'   -- ì •ì‚°ì„œ
);
```

---

## 4. ê¸°ëŠ¥ ëª…ì„¸

### 4.1 Phase 1: MVP (í•µì‹¬ ê¸°ëŠ¥)

#### 4.1.1 ëŒ€ì‹œë³´ë“œ
- **í”„ë¡œì íŠ¸ í˜„í™© ìš”ì•½**: ì§„í–‰ì¤‘/ë³´ë¥˜/ì™„ë£Œ í”„ë¡œì íŠ¸ ìˆ˜
- **ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸ ë¶„í¬**: í”„ë¡œì„¸ìŠ¤ ë‹¨ê³„ë³„ ì¹´ìš´íŠ¸ (ì°¨íŠ¸)
- **ìµœê·¼ í™œë™**: ìµœê·¼ ë“±ë¡ëœ í˜„ì¥ ë¡œê·¸
- **ê¸´ê¸‰ ì•Œë¦¼**: Critical/Warning AI ì¸ì‚¬ì´íŠ¸ í‘œì‹œ

#### 4.1.2 í”„ë¡œì íŠ¸ ëª©ë¡
- **í•„í„°ë§**: ìƒíƒœ, ë‹¨ê³„, ë‹´ë‹¹ì, ê¸°ê°„ë³„ í•„í„°
- **ê²€ìƒ‰**: í”„ë¡œì íŠ¸ëª…, ê³ ê°ëª…, ìœ„ì¹˜ ê²€ìƒ‰
- **ì •ë ¬**: ìµœì‹ ìˆœ, ë§ˆê°ì¼ìˆœ, ìš°ì„ ìˆœìœ„ìˆœ
- **ë·° ëª¨ë“œ**: ì¹´ë“œ ë·° / í…Œì´ë¸” ë·° ì „í™˜

#### 4.1.3 í”„ë¡œì íŠ¸ ìƒì„¸
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† ëª©ë¡]  ì²­ì£¼ ì˜¤ì†¡ 2ê³µì¥                    [ìˆ˜ì •] [ì‚­ì œ]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â— í˜„ì¥ë°©ë¬¸ â”€â”€â”€ â— ê²¬ì  â”€â”€â”€ â— ë°°ì • â”€â”€â”€ â—‰ ë°œì£¼ â”€â”€â”€ â—‹ ì‹œê³µ â”€â”€â”€ â—‹ ì •ì‚°  â”‚
â”‚                                        â–² í˜„ì¬                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  í˜„ì¥ ë¡œê·¸   â”‚ â”‚    ë¬¸ì„œ/ê¸ˆì•¡     â”‚ â”‚      AI ì¸ì‚¬ì´íŠ¸        â”‚ â”‚
â”‚ â”‚             â”‚ â”‚                 â”‚ â”‚                         â”‚ â”‚
â”‚ â”‚ [ì‚¬ì§„]      â”‚ â”‚ ê²¬ì : 1.5ì–µì›    â”‚ â”‚ âš ï¸ ê°•ìš°ë¡œ ì¸í•œ ì‹¤ë¦¬ì½˜   â”‚ â”‚
â”‚ â”‚ ì™¸ë²½ ì‘ì—…ì¤‘ â”‚ â”‚ ë°œì£¼: 8,000ë§Œì›  â”‚ â”‚    ì‘ì—… ì§€ì—° ì˜ˆìƒ       â”‚ â”‚
â”‚ â”‚ - í™ê¸¸ë™    â”‚ â”‚ ì •ì‚°: -         â”‚ â”‚                         â”‚ â”‚
â”‚ â”‚             â”‚ â”‚                 â”‚ â”‚ â„¹ï¸ ìì¬ ë‚©ê¸°ì¼ D-3      â”‚ â”‚
â”‚ â”‚ [+ ë¡œê·¸ì¶”ê°€]â”‚ â”‚ [ë¬¸ì„œ ëª©ë¡ â†’]   â”‚ â”‚                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3ì»¬ëŸ¼ ë ˆì´ì•„ì›ƒ**:
1. **í˜„ì¥ (Left)**: í˜„ì¥ ë¡œê·¸ í”¼ë“œ, ì‚¬ì§„ ê°¤ëŸ¬ë¦¬, ì‘ì—… ì¼ì§€
2. **ê´€ë¦¬ (Center)**: ê¸ˆì•¡ ìš”ì•½, ë¬¸ì„œ ëª©ë¡, ì¼ì •
3. **AI (Right)**: AI ë¶„ì„ ë©”ì‹œì§€, ë¦¬ìŠ¤í¬ ì•Œë¦¼

#### 4.1.4 í˜„ì¥ ë¡œê·¸ ê´€ë¦¬
- **ë¡œê·¸ ì‘ì„±**: ë‚´ìš© + ë‹¤ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ + ë‚ ì”¨ + ì‘ì—…ì¼
- **ë¡œê·¸ ìœ í˜•**: ì¼ì¼ë³´ê³  / ì´ìŠˆ / ì§„í–‰ìƒí™© / ì‚¬ì§„
- **íƒ€ì„ë¼ì¸ ë·°**: ë‚ ì§œë³„ ê·¸ë£¹í•‘

#### 4.1.5 ë¬¸ì„œ ê´€ë¦¬
- **ë¬¸ì„œ ë“±ë¡**: ìœ í˜•, ê¸ˆì•¡, íŒŒì¼ ì—…ë¡œë“œ
- **ìƒíƒœ ê´€ë¦¬**: ì´ˆì•ˆ â†’ ê²€í† ì¤‘ â†’ ìŠ¹ì¸/ë°˜ë ¤
- **ê¸ˆì•¡ ì§‘ê³„**: ê²¬ì /ë°œì£¼/ì •ì‚° ê¸ˆì•¡ ìë™ í•©ê³„

#### 4.1.6 ì‚¬ìš©ì ì¸ì¦
- **ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ**: Supabase Auth ê¸°ë°˜
- **ê¶Œí•œ ë ˆë²¨**:
  - Admin: ì „ì²´ ê´€ë¦¬
  - Manager: ë‹´ë‹¹ í”„ë¡œì íŠ¸ ê´€ë¦¬
  - Staff: ì¡°íšŒ + ë¡œê·¸ ì‘ì„±

### 4.2 Phase 2: í™•ì¥ ê¸°ëŠ¥

#### 4.2.1 ì•Œë¦¼ ì‹œìŠ¤í…œ
- **ì¸ì•± ì•Œë¦¼**: í”„ë¡œì íŠ¸ ìƒíƒœ ë³€ê²½, ë¬¸ì„œ ìŠ¹ì¸ ìš”ì²­
- **ì´ë©”ì¼ ì•Œë¦¼**: ì£¼ìš” ì´ë²¤íŠ¸ ì´ë©”ì¼ ë°œì†¡ (ì„ íƒ)

#### 4.2.2 ì¼ì • ê´€ë¦¬
- **ìº˜ë¦°ë” ë·°**: í”„ë¡œì íŠ¸ë³„ ë§ˆì¼ìŠ¤í†¤, ë¯¸íŒ…, ê²€ìˆ˜ ì¼ì •
- **ìì¬ ë‚©ê¸° ì¶”ì **: ë°œì£¼ í›„ ë‚©ê¸°ì¼ ê´€ë¦¬

#### 4.2.3 AI ì¸ì‚¬ì´íŠ¸ ê³ ë„í™”
- **ìë™ ë¶„ì„ íŠ¸ë¦¬ê±°**: ìƒˆ ë¡œê·¸ ë“±ë¡ ì‹œ AI ë¶„ì„ ì‹¤í–‰
- **ë¦¬ìŠ¤í¬ íŒ¨í„´ í•™ìŠµ**: ë‚ ì”¨, ì¼ì • ì§€ì—°, ìì¬ ë“± íŒ¨í„´ ë¶„ì„
- **ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„±**: AI ê¸°ë°˜ í”„ë¡œì íŠ¸ ìš”ì•½ ë¦¬í¬íŠ¸

#### 4.2.4 ë¦¬í¬íŠ¸/í†µê³„
- **í”„ë¡œì íŠ¸ ë¦¬í¬íŠ¸**: PDF ë‚´ë³´ë‚´ê¸°
- **ë§¤ì¶œ í†µê³„**: ì›”ë³„/ë¶„ê¸°ë³„ ê²¬ì -ê³„ì•½-ì •ì‚° ì¶”ì´
- **íŒ€ ì„±ê³¼**: ì‹œê³µíŒ€ë³„ ì™„ë£Œ í”„ë¡œì íŠ¸ í†µê³„

### 4.3 Phase 3: ê³ ê¸‰ ê¸°ëŠ¥
- ëª¨ë°”ì¼ ì•± (PWA)
- ì™¸ë¶€ ERP ì—°ë™ API
- ì‹¤ì‹œê°„ í˜‘ì—… (ë™ì‹œ í¸ì§‘)
- OCR ê¸°ë°˜ ë¬¸ì„œ ìë™ ì¸ì‹

---

## 5. UI/UX ì„¤ê³„

### 5.1 ë ˆì´ì•„ì›ƒ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ë¡œê³ ]  ë™ì¼ìœ ë¦¬ í˜„ì¥ê´€ë¦¬       ê²€ìƒ‰ [ğŸ”]    [ğŸ””] [ğŸ‘¤ í™ê¸¸ë™] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                                                 â”‚
â”‚  ì‚¬ì´ë“œë°”   â”‚              ë©”ì¸ ì½˜í…ì¸  ì˜ì—­                    â”‚
â”‚            â”‚                                                 â”‚
â”‚  ğŸ“Š ëŒ€ì‹œë³´ë“œâ”‚                                                 â”‚
â”‚  ğŸ“ í”„ë¡œì íŠ¸â”‚                                                 â”‚
â”‚  ğŸ“… ì¼ì •    â”‚                                                 â”‚
â”‚  ğŸ‘¥ íŒ€ ê´€ë¦¬ â”‚                                                 â”‚
â”‚  âš™ï¸ ì„¤ì •   â”‚                                                 â”‚
â”‚            â”‚                                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                                                 â”‚
â”‚ ì§„í–‰ì¤‘ (5)  â”‚                                                 â”‚
â”‚  â€¢ ì²­ì£¼ ì˜¤ì†¡â”‚                                                 â”‚
â”‚  â€¢ ëŒ€ì „ ë³¸ì â”‚                                                 â”‚
â”‚            â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ë””ìì¸ ì‹œìŠ¤í…œ
| ìš”ì†Œ | ê°’ |
|------|-----|
| Primary Color | #2563EB (Blue-600) |
| Accent Color | #10B981 (Emerald-500) |
| Warning | #F59E0B (Amber-500) |
| Error | #EF4444 (Red-500) |
| Background | #F8FAFC (Slate-50) |
| Card | #FFFFFF |
| Text Primary | #1E293B (Slate-800) |
| Text Secondary | #64748B (Slate-500) |
| Border Radius | 8px |
| Font | Pretendard (í•œê¸€), Inter (ì˜ë¬¸) |

### 5.3 ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸
| ë””ë°”ì´ìŠ¤ | ë„ˆë¹„ | ë ˆì´ì•„ì›ƒ |
|---------|------|---------|
| Desktop | â‰¥1280px | ì‚¬ì´ë“œë°” ê³ ì • + 3ì»¬ëŸ¼ |
| Tablet | 768-1279px | ì‚¬ì´ë“œë°” ì ‘í˜ + 2ì»¬ëŸ¼ |
| Mobile | <768px | í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ + 1ì»¬ëŸ¼ |

---

## 6. API ì„¤ê³„

### 6.1 API ë¼ìš°íŠ¸ (Next.js App Router)
```
/api
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ POST /login
â”‚   â””â”€â”€ POST /logout
â”œâ”€â”€ /projects
â”‚   â”œâ”€â”€ GET    /              # ëª©ë¡ (í•„í„°, í˜ì´ì§€ë„¤ì´ì…˜)
â”‚   â”œâ”€â”€ POST   /              # ìƒì„±
â”‚   â”œâ”€â”€ GET    /[id]          # ìƒì„¸
â”‚   â”œâ”€â”€ PATCH  /[id]          # ìˆ˜ì •
â”‚   â”œâ”€â”€ DELETE /[id]          # ì‚­ì œ
â”‚   â””â”€â”€ PATCH  /[id]/step     # ë‹¨ê³„ ë³€ê²½
â”œâ”€â”€ /site-logs
â”‚   â”œâ”€â”€ GET    /              # ëª©ë¡ (project_id í•„í„°)
â”‚   â”œâ”€â”€ POST   /              # ìƒì„± (ì´ë¯¸ì§€ ì—…ë¡œë“œ í¬í•¨)
â”‚   â””â”€â”€ DELETE /[id]          # ì‚­ì œ
â”œâ”€â”€ /documents
â”‚   â”œâ”€â”€ GET    /              # ëª©ë¡
â”‚   â”œâ”€â”€ POST   /              # ìƒì„±
â”‚   â”œâ”€â”€ PATCH  /[id]/status   # ìƒíƒœ ë³€ê²½ (ìŠ¹ì¸/ë°˜ë ¤)
â”‚   â””â”€â”€ DELETE /[id]          # ì‚­ì œ
â”œâ”€â”€ /ai-insights
â”‚   â”œâ”€â”€ GET    /              # ëª©ë¡
â”‚   â”œâ”€â”€ POST   /generate      # AI ë¶„ì„ ì‹¤í–‰
â”‚   â””â”€â”€ PATCH  /[id]/resolve  # í•´ê²° ì²˜ë¦¬
â””â”€â”€ /upload
    â””â”€â”€ POST   /              # íŒŒì¼ ì—…ë¡œë“œ (Supabase Storage)
```

### 6.2 Supabase ì‹¤ì‹œê°„ êµ¬ë…
```typescript
// í”„ë¡œì íŠ¸ ë³€ê²½ ì‹¤ì‹œê°„ ê°ì§€
supabase
  .channel('projects')
  .on('postgres_changes', { event: '*', schema: 'public', table: 'projects' },
    (payload) => handleProjectChange(payload)
  )
  .subscribe()
```

---

## 7. í”„ë¡œì íŠ¸ êµ¬ì¡°

```
dongil-site-manager/
â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                 # ì¸ì¦ ê´€ë ¨ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”œâ”€â”€ (dashboard)/            # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ page.tsx            # ëŒ€ì‹œë³´ë“œ í™ˆ
â”‚   â”‚   â”œâ”€â”€ projects/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx        # í”„ë¡œì íŠ¸ ëª©ë¡
â”‚   â”‚   â”‚   â”œâ”€â”€ new/page.tsx    # í”„ë¡œì íŠ¸ ìƒì„±
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx   # í”„ë¡œì íŠ¸ ìƒì„¸
â”‚   â”‚   â”œâ”€â”€ schedule/
â”‚   â”‚   â”œâ”€â”€ teams/
â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â””â”€â”€ layout.tsx          # ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ api/                    # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ globals.css
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ layout/                 # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â””â”€â”€ MobileNav.tsx
â”‚   â”œâ”€â”€ projects/               # í”„ë¡œì íŠ¸ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ProjectCard.tsx
â”‚   â”‚   â”œâ”€â”€ ProjectTimeline.tsx
â”‚   â”‚   â”œâ”€â”€ SiteLogFeed.tsx
â”‚   â”‚   â”œâ”€â”€ DocumentTable.tsx
â”‚   â”‚   â””â”€â”€ AiInsightCard.tsx
â”‚   â””â”€â”€ common/                 # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts           # ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ server.ts           # ì„œë²„ í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ middleware.ts       # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ utils.ts
â”‚   â””â”€â”€ constants.ts
â”œâ”€â”€ hooks/                      # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ useProjects.ts
â”‚   â”œâ”€â”€ useSiteLogs.ts
â”‚   â””â”€â”€ useAuth.ts
â”œâ”€â”€ store/                      # Zustand ìŠ¤í† ì–´
â”‚   â””â”€â”€ useAppStore.ts
â”œâ”€â”€ types/                      # TypeScript íƒ€ì…
â”‚   â””â”€â”€ database.ts             # Supabase ìƒì„± íƒ€ì…
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ setup.sql               # í…Œì´ë¸” ìƒì„± + ë”ë¯¸ ë°ì´í„°
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ public/
â”œâ”€â”€ .env.local.example
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## 8. ì‚°ì¶œë¬¼ ëª©ë¡

### 8.1 í•„ìˆ˜ ì‚°ì¶œë¬¼
| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `supabase/setup.sql` | í…Œì´ë¸” ìƒì„±, RLS ì •ì±…, ë”ë¯¸ ë°ì´í„° (ì²­ì£¼ ì˜¤ì†¡ 2ê³µì¥ í¬í•¨) |
| `.env.local.example` | í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ |
| `README.md` | ì„¤ì¹˜, ì‹¤í–‰, ë°°í¬ ê°€ì´ë“œ |
| ì „ì²´ ì†ŒìŠ¤ ì½”ë“œ | Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ |

### 8.2 ë”ë¯¸ ë°ì´í„° ìš”êµ¬ì‚¬í•­
**ì²­ì£¼ ì˜¤ì†¡ 2ê³µì¥** í”„ë¡œì íŠ¸:
- í”„ë¡œì íŠ¸ëª…: ì²­ì£¼ ì˜¤ì†¡ 2ê³µì¥
- ìœ„ì¹˜: ì¶©ë¶ ì²­ì£¼ì‹œ í¥ë•êµ¬ ì˜¤ì†¡ì
- ê³ ê°: OOì „ì
- ìƒíƒœ: active
- ë‹¨ê³„: order (ë°œì£¼)
- ê²¬ì  ê¸ˆì•¡: 150,000,000ì›
- ë°œì£¼ ê¸ˆì•¡: 80,000,000ì›
- í˜„ì¥ ì‚¬ì§„: Unsplash ê±´ì„¤ ì´ë¯¸ì§€ ì‚¬ìš©
- AI ì¸ì‚¬ì´íŠ¸: "ìµœê·¼ ê°•ìš°ë¡œ ì¸í•´ ì™¸ë¶€ ì‹¤ë¦¬ì½˜ ì‘ì—… ì§€ì—°ì´ ì˜ˆìƒë©ë‹ˆë‹¤." (warning)

---

## 9. í™˜ê²½ ë³€ìˆ˜

```env
# .env.local.example

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# AI (ì„ íƒ)
ANTHROPIC_API_KEY=your-claude-api-key

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

---

## 10. ì„±ê³µ ì§€í‘œ

### 10.1 ê¸°ìˆ ì  ì§€í‘œ
- Lighthouse Performance Score â‰¥ 90
- First Contentful Paint < 1.5s
- Time to Interactive < 3s

### 10.2 ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ
- í˜„ì¥ ì •ë³´ ì¡°íšŒ ì‹œê°„ 50% ë‹¨ì¶•
- í”„ë¡œì íŠ¸ë‹¹ ë¬¸ì„œ ê²€ìƒ‰ ì‹œê°„ 70% ë‹¨ì¶•
- íŒ€ ê°„ ì •ë³´ ê³µìœ  ì§€ì—° í•´ì†Œ

---

## 11. ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|------|----------|
| ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ | ì¤‘ | CSV ì„í¬íŠ¸ ê¸°ëŠ¥ ê°œë°œ |
| ì‚¬ìš©ì ì ì‘ | ì¤‘ | ë‹¨ìˆœí•œ UI, êµìœ¡ ìë£Œ ì œê³µ |
| íŒŒì¼ ìš©ëŸ‰ ì¦ê°€ | ë‚® | Supabase Storage ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ |
| AI API ë¹„ìš© | ë‚® | ìš”ì²­ ì œí•œ, ìºì‹± ì ìš© |

---

## 12. ê°œë°œ ìš°ì„ ìˆœìœ„

### Phase 1 (MVP) - í•µì‹¬
1. í”„ë¡œì íŠ¸ CRUD + ëª©ë¡/ìƒì„¸
2. í”„ë¡œì„¸ìŠ¤ íƒ€ì„ë¼ì¸ ì‹œê°í™”
3. í˜„ì¥ ë¡œê·¸ (ì‚¬ì§„ ì—…ë¡œë“œ í¬í•¨)
4. ë¬¸ì„œ ê´€ë¦¬ + ê¸ˆì•¡ í‘œì‹œ
5. AI ì¸ì‚¬ì´íŠ¸ í‘œì‹œ (ìˆ˜ë™ ì…ë ¥)
6. ì‚¬ìš©ì ì¸ì¦

### Phase 2 - í™•ì¥
7. ëŒ€ì‹œë³´ë“œ í†µê³„/ì°¨íŠ¸
8. ì¼ì • ê´€ë¦¬
9. ì•Œë¦¼ ì‹œìŠ¤í…œ
10. AI ìë™ ë¶„ì„ ì—°ë™

### Phase 3 - ê³ ë„í™”
11. ë¦¬í¬íŠ¸ ìƒì„±
12. íŒ€ ê´€ë¦¬
13. ëª¨ë°”ì¼ ìµœì í™” (PWA)
